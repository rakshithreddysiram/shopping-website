{
  "info": {
    "name": "E-Commerce API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "User",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "url": "http://localhost:5000/api/users/register",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Test User\",\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\",\n    \"address\": \"123 Test Street, Test City\",\n    \"phone\": \"1234567890\"\n}"
            }
          }
        },
        {
          "name": "Login User",
          "request": {
            "method": "POST",
            "url": "http://localhost:5000/api/users/login",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\"\n}"
            }
          }
        },
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/users/profile",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Update User Profile",
          "request": {
            "method": "PUT",
            "url": "http://localhost:5000/api/users/profile",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated Name\",\n    \"email\": \"test@example.com\",\n    \"address\": \"456 New Street, New City\",\n    \"phone\": \"9876543210\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "Get All Products",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/products"
          }
        },
        {
          "name": "Get Product by ID",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/products/{{productId}}"
          }
        },
        {
          "name": "Create Product (Admin)",
          "request": {
            "method": "POST",
            "url": "http://localhost:5000/api/products",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"New Product\",\n    \"description\": \"Product description\",\n    \"price\": 29.99,\n    \"image\": \"product-image.jpg\",\n    \"category\": \"clothing\",\n    \"countInStock\": 10\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "Create Order",
          "request": {
            "method": "POST",
            "url": "http://localhost:5000/api/orders",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderItems\": [\n        {\n            \"name\": \"Product Name\",\n            \"qty\": 2,\n            \"image\": \"product-image.jpg\",\n            \"price\": 29.99,\n            \"product\": \"{{productId}}\"\n        }\n    ],\n    \"shippingAddress\": {\n        \"address\": \"123 Test Street\",\n        \"city\": \"Test City\",\n        \"postalCode\": \"12345\",\n        \"country\": \"Test Country\"\n    },\n    \"paymentMethod\": \"COD\",\n    \"itemsPrice\": 59.98,\n    \"shippingPrice\": 10.00,\n    \"taxPrice\": 9.00,\n    \"totalPrice\": 78.98\n}"
            }
          }
        },
        {
          "name": "Get My Orders",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/orders/myorders",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Get Order by ID",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/orders/{{orderId}}",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Update Payment Status",
          "request": {
            "method": "PUT",
            "url": "http://localhost:5000/api/orders/{{orderId}}/pay",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"paymentResult\": {\n        \"id\": \"payment_id\",\n        \"status\": \"completed\",\n        \"update_time\": \"2023-07-15T12:00:00Z\",\n        \"email_address\": \"test@example.com\"\n    }\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Payment",
      "item": [
        {
          "name": "Create Payment Intent",
          "request": {
            "method": "POST",
            "url": "http://localhost:5000/api/payment/create-payment-intent",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"amount\": 7898,\n    \"currency\": \"usd\",\n    \"orderId\": \"{{orderId}}\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Get All Orders",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/admin/orders",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/admin/users",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Create Delivery Partner",
          "request": {
            "method": "POST",
            "url": "http://localhost:5000/api/admin/create-delivery-partner",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Delivery Partner\",\n    \"email\": \"delivery@example.com\",\n    \"password\": \"password123\",\n    \"phone\": \"1234567890\"\n}"
            }
          }
        },
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/admin/dashboard",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Assign Order to Delivery Partner",
          "request": {
            "method": "PUT",
            "url": "http://localhost:5000/api/admin/assign-order",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": \"{{orderId}}\",\n    \"deliveryPartnerId\": \"{{deliveryPartnerId}}\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Delivery Partner",
      "item": [
        {
          "name": "Get Assigned Orders",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/delivery/orders",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Update Delivery Status",
          "request": {
            "method": "PUT",
            "url": "http://localhost:5000/api/delivery/update-status",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": \"{{orderId}}\",\n    \"status\": \"out_for_delivery\",\n    \"location\": \"En route to delivery address\",\n    \"notes\": \"Expected delivery within 2 hours\"\n}"
            }
          }
        },
        {
          "name": "Get Delivery Profile",
          "request": {
            "method": "GET",
            "url": "http://localhost:5000/api/delivery/profile",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Tracking",
      "item": [
        {
          "name": "Track Order",
          "request": {
            "method": "POST",
            "url": "http://localhost:5000/api/tracking",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": \"{{orderId}}\",\n    \"email\": \"test@example.com\"\n}"
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "token",
      "value": "YOUR_JWT_TOKEN"
    },
    {
      "key": "productId",
      "value": "PRODUCT_ID"
    },
    {
      "key": "orderId",
      "value": "ORDER_ID"
    },
    {
      "key": "deliveryPartnerId",
      "value": "DELIVERY_PARTNER_ID"
    }
  ]
}